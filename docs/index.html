<!DOCTYPE html><html class="default" lang="en" data-base="."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@flatten-js/interval-tree - v2.0.0-alpha.1</title><meta name="description" content="Documentation for @flatten-js/interval-tree"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><link rel="stylesheet" href="assets/custom.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"><a href="https://github.com/alexbol99/flatten-interval-tree">GitHub</a><a href="https://alexbol99.github.io/flatten-interval-tree/examples.html">Live examples</a></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@flatten-js/interval-tree - v2.0.0-alpha.1</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>@flatten-js/interval-tree - v2.0.0-alpha.1</h1></div><div class="tsd-panel tsd-typography"><a id="interval-tree" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Interval Tree<a href="#interval-tree" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p><a href="https://badge.fury.io/js/%40flatten-js%2Finterval-tree"><img src="https://badge.fury.io/js/%40flatten-js%2Finterval-tree.svg" alt="npm version"></a>
<a href="https://snyk.io/advisor/npm-package/@flatten-js/interval-tree"><img src="https://snyk.io/advisor/npm-package/@flatten-js/interval-tree/badge.svg" alt="@flatten-js/interval-tree"></a></p>
<p>The package <strong>@flatten-js/interval-tree</strong> is an implementation of interval binary search tree according to Cormen et al. Introduction to Algorithms (2009, Section 14.3: Interval trees, pp. 348–354).
Cormen shows that insertion, deletion of nodes and range queries take <em>O(log(n))</em> time where n is the number of items
stored in the tree.</p>
<p>This package is a part of <a href="https://github.com/alexbol99/flatten-js">flatten-js</a> library.</p>
<p>An earlier implementation, <a href="https://www.npmjs.com/package/flatten-interval-tree">flatten-interval-tree</a>, is deprecated.
Please use this package (<a href="https://www.npmjs.com/package/@flatten-js/interval-tree">@flatten-js/interval-tree</a>) instead.</p>
<a id="contacts" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Contacts<a href="#contacts" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Follow me on Twitter <a href="https://twitter.com/alex_bol_">@alex_bol_</a></p>
<a id="installation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-3">--save</span><span class="hl-1"> </span><span class="hl-2">@flatten-js/interval-tree</span>
</code><button type="button">Copy</button></pre>

<a id="usage" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Usage<a href="#usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="javascript"><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-5">IntervalTree</span><span class="hl-1"> </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@flatten-js/interval-tree&#39;</span>
</code><button type="button">Copy</button></pre>

<a id="notes" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Notes<a href="#notes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Tree stores pairs <code>&lt;key, value&gt;</code> where key is an interval, and value is an object of any type.
If value is omitted, the tree stores the key itself as the value for convenience, so searches and iteration still return the key (you can always provide your own mapper).</p>
<p>Keys with the same interval are now bucketed into a single node. This means multiple values can be stored under one identical key without requiring values to be comparable.
No custom comparator is required for values. Equality for values is by strict equality (<code>===</code>) unless your value implements an <code>equal_to(other)</code> method.</p>
<p><strong>Interval</strong> can be a pair of numbers <code>[low, high]</code> (numeric pairs are normalized so that low &lt;= high), or an object that implements the Interval interface described in the TypeScript typings.</p>
<p>Axis aligned rectangle is an example of such interval.
We may look at rectangle as an interval between its low left and top right corners.
It makes possible to use interval tree in spatial queries.
See <strong>Box</strong> class in <a href="https://github.com/alexbol99/flatten-js">flatten-js</a> library for such
implementation.</p>
<a id="example" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-5">tree</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">IntervalTree</span><span class="hl-1">();</span><br/><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-5">intervals</span><span class="hl-1"> = [[</span><span class="hl-6">6</span><span class="hl-1">,</span><span class="hl-6">8</span><span class="hl-1">],[</span><span class="hl-6">1</span><span class="hl-1">,</span><span class="hl-6">4</span><span class="hl-1">],[</span><span class="hl-6">5</span><span class="hl-1">,</span><span class="hl-6">12</span><span class="hl-1">],[</span><span class="hl-6">1</span><span class="hl-1">,</span><span class="hl-6">1</span><span class="hl-1">],[</span><span class="hl-6">5</span><span class="hl-1">,</span><span class="hl-6">7</span><span class="hl-1">]];</span><br/><br/><span class="hl-7">// Insert interval as a key and string &quot;val0&quot;, &quot;val1&quot; etc. as a value </span><br/><span class="hl-4">for</span><span class="hl-1"> (</span><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-5">i</span><span class="hl-1">=</span><span class="hl-6">0</span><span class="hl-1">; </span><span class="hl-5">i</span><span class="hl-1"> &lt; </span><span class="hl-5">intervals</span><span class="hl-1">.</span><span class="hl-5">length</span><span class="hl-1">; </span><span class="hl-5">i</span><span class="hl-1">++) {</span><br/><span class="hl-1">    </span><span class="hl-5">tree</span><span class="hl-1">.</span><span class="hl-0">insert</span><span class="hl-1">(</span><span class="hl-5">intervals</span><span class="hl-1">[</span><span class="hl-5">i</span><span class="hl-1">],</span><span class="hl-2">&quot;val&quot;</span><span class="hl-1">+</span><span class="hl-5">i</span><span class="hl-1">);</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-7">// Get array of keys sorted in ascendant order</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-5">sorted_intervals</span><span class="hl-1"> = </span><span class="hl-5">tree</span><span class="hl-1">.</span><span class="hl-5">keys</span><span class="hl-1">;              </span><span class="hl-7">//  expected array [[1,1],[1,4],[5,7],[5,12],[6,8]]</span><br/><br/><span class="hl-7">// Search items which keys intersect with given interval, and return array of values</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-5">values_in_range</span><span class="hl-1"> = </span><span class="hl-5">tree</span><span class="hl-1">.</span><span class="hl-0">search</span><span class="hl-1">([</span><span class="hl-6">2</span><span class="hl-1">,</span><span class="hl-6">3</span><span class="hl-1">]);     </span><span class="hl-7">//  expected array [&#39;val1&#39;]</span>
</code><button type="button">Copy</button></pre>

<a id="interval-types" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Interval types<a href="#interval-types" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The library now supports multiple interval classes:</p>
<ul>
<li>Interval (default export): 1D interval whose endpoints are comparable (number, bigint, string, Date).</li>
<li>TimeInterval: a 1D interval specialized for Date endpoints.</li>
<li>Interval2D: a lexicographic 2D interval whose endpoints are points [x, y].</li>
</ul>
<p>Notes:</p>
<ul>
<li>The default behavior remains unchanged: passing a numeric pair [low, high] will be normalized and converted into a default 1D Interval.</li>
<li>To use custom types, construct and pass the concrete interval class instance:</li>
</ul>
<pre><code class="javascript"><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-5">IntervalTree</span><span class="hl-1">, { </span><span class="hl-5">TimeInterval</span><span class="hl-1">, </span><span class="hl-5">Interval2D</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@flatten-js/interval-tree&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">tree</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">IntervalTree</span><span class="hl-1">();</span><br/><br/><span class="hl-7">// Time intervals</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">a</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">TimeInterval</span><span class="hl-1">(</span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Date</span><span class="hl-1">(</span><span class="hl-2">&#39;2020-01-01&#39;</span><span class="hl-1">), </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Date</span><span class="hl-1">(</span><span class="hl-2">&#39;2020-01-31&#39;</span><span class="hl-1">));</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">b</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">TimeInterval</span><span class="hl-1">(</span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Date</span><span class="hl-1">(</span><span class="hl-2">&#39;2020-01-15&#39;</span><span class="hl-1">), </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Date</span><span class="hl-1">(</span><span class="hl-2">&#39;2020-02-15&#39;</span><span class="hl-1">));</span><br/><br/><span class="hl-5">tree</span><span class="hl-1">.</span><span class="hl-0">insert</span><span class="hl-1">(</span><span class="hl-5">a</span><span class="hl-1">, </span><span class="hl-2">&#39;A&#39;</span><span class="hl-1">);</span><br/><span class="hl-5">tree</span><span class="hl-1">.</span><span class="hl-0">insert</span><span class="hl-1">(</span><span class="hl-5">b</span><span class="hl-1">, </span><span class="hl-2">&#39;B&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">hits</span><span class="hl-1"> = </span><span class="hl-5">tree</span><span class="hl-1">.</span><span class="hl-0">search</span><span class="hl-1">(</span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">TimeInterval</span><span class="hl-1">(</span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Date</span><span class="hl-1">(</span><span class="hl-2">&#39;2020-01-10&#39;</span><span class="hl-1">), </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Date</span><span class="hl-1">(</span><span class="hl-2">&#39;2020-01-20&#39;</span><span class="hl-1">)));</span><br/><span class="hl-7">// hits -&gt; [&#39;A&#39;,&#39;B&#39;]</span><br/><br/><span class="hl-7">// 2D intervals (lexicographic ordering)</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">r1</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Interval2D</span><span class="hl-1">([</span><span class="hl-6">0</span><span class="hl-1">, </span><span class="hl-6">0</span><span class="hl-1">], [</span><span class="hl-6">10</span><span class="hl-1">, </span><span class="hl-6">10</span><span class="hl-1">]);</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">r2</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Interval2D</span><span class="hl-1">([</span><span class="hl-6">5</span><span class="hl-1">, </span><span class="hl-6">5</span><span class="hl-1">], [</span><span class="hl-6">15</span><span class="hl-1">, </span><span class="hl-6">15</span><span class="hl-1">]);</span><br/><br/><span class="hl-5">tree</span><span class="hl-1">.</span><span class="hl-0">insert</span><span class="hl-1">(</span><span class="hl-5">r1</span><span class="hl-1">, </span><span class="hl-2">&#39;R1&#39;</span><span class="hl-1">);</span><br/><span class="hl-5">tree</span><span class="hl-1">.</span><span class="hl-0">insert</span><span class="hl-1">(</span><span class="hl-5">r2</span><span class="hl-1">, </span><span class="hl-2">&#39;R2&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="constructor" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Constructor<a href="#constructor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Create new instance of interval tree</p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-5">tree</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">IntervalTree</span><span class="hl-1">()</span>
</code><button type="button">Copy</button></pre>

<a id="insertkey-value" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Insert(key[, value])<a href="#insertkey-value" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Insert a new item into the tree. Key is an interval object or a pair of numbers <code>[low, high]</code> (numeric pairs are normalized so that <code>low &lt;= high</code>).
If <code>value</code> is omitted, the key itself is stored as the value for convenience.
If a node with an identical key already exists, the value is appended to that node’s bucket.
Returns a reference to the inserted node.</p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-5">node</span><span class="hl-1"> = </span><span class="hl-5">tree</span><span class="hl-1">.</span><span class="hl-0">insert</span><span class="hl-1">(</span><span class="hl-5">key</span><span class="hl-1">, </span><span class="hl-5">value</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<a id="existkey-value" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Exist(key[, value])<a href="#existkey-value" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Returns <code>true</code> if the item exists in the tree.</p>
<ul>
<li>Called as <code>exist(key)</code>, it checks whether a node with the given key exists (bucket may contain one or more values).</li>
<li>Called as <code>exist(key, value)</code>, it checks whether the specific value exists inside the bucket of that key (strict equality unless the value implements <code>equal_to</code>).</li>
</ul>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-5">existsKey</span><span class="hl-1"> = </span><span class="hl-5">tree</span><span class="hl-1">.</span><span class="hl-0">exist</span><span class="hl-1">(</span><span class="hl-5">key</span><span class="hl-1">)</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-5">existsPair</span><span class="hl-1"> = </span><span class="hl-5">tree</span><span class="hl-1">.</span><span class="hl-0">exist</span><span class="hl-1">(</span><span class="hl-5">key</span><span class="hl-1">, </span><span class="hl-5">value</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<a id="removekey-value" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Remove(key[, value])<a href="#removekey-value" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Removes entries from the tree.</p>
<ul>
<li>Called as <code>remove(key)</code>, it removes the entire node for that key (i.e., the whole bucket).</li>
<li>Called as <code>remove(key, value)</code>, it removes a single matching value from the bucket; if the bucket becomes empty, the node is removed.
Returns the removed node if something was deleted, or <code>undefined</code> if nothing was found.</li>
</ul>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-5">removedNode</span><span class="hl-1"> = </span><span class="hl-5">tree</span><span class="hl-1">.</span><span class="hl-0">remove</span><span class="hl-1">(</span><span class="hl-5">key</span><span class="hl-1">)</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-5">removedPairNode</span><span class="hl-1"> = </span><span class="hl-5">tree</span><span class="hl-1">.</span><span class="hl-0">remove</span><span class="hl-1">(</span><span class="hl-5">key</span><span class="hl-1">, </span><span class="hl-5">value</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<a id="searchinterval-outputmapperfn" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Search(interval[, outputMapperFn])<a href="#searchinterval-outputmapperfn" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Returns array of values which keys intersected with given interval. <br/></p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-5">resp</span><span class="hl-1"> = </span><span class="hl-5">tree</span><span class="hl-1">.</span><span class="hl-0">search</span><span class="hl-1">(</span><span class="hl-5">interval</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<p>Optional <em>outputMapperFn(value, key)</em> enables to map search results into custom defined output.
Example:</p>
<pre><code class="javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">composers</span><span class="hl-1"> = [</span><br/><span class="hl-1">    {</span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&quot;Ludwig van Beethoven&quot;</span><span class="hl-1">, </span><span class="hl-5">period:</span><span class="hl-1"> [</span><span class="hl-6">1770</span><span class="hl-1">, </span><span class="hl-6">1827</span><span class="hl-1">]},</span><br/><span class="hl-1">    {</span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&quot;Johann Sebastian Bach&quot;</span><span class="hl-1">, </span><span class="hl-5">period:</span><span class="hl-1"> [</span><span class="hl-6">1685</span><span class="hl-1">, </span><span class="hl-6">1750</span><span class="hl-1">]},</span><br/><span class="hl-1">    {</span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&quot;Wolfgang Amadeus Mozart&quot;</span><span class="hl-1">, </span><span class="hl-5">period:</span><span class="hl-1"> [</span><span class="hl-6">1756</span><span class="hl-1">, </span><span class="hl-6">1791</span><span class="hl-1">]},</span><br/><span class="hl-1">    {</span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&quot;Johannes Brahms&quot;</span><span class="hl-1">, </span><span class="hl-5">period:</span><span class="hl-1"> [</span><span class="hl-6">1833</span><span class="hl-1">, </span><span class="hl-6">1897</span><span class="hl-1">]},</span><br/><span class="hl-1">    {</span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&quot;Richard Wagner&quot;</span><span class="hl-1">, </span><span class="hl-5">period:</span><span class="hl-1"> [</span><span class="hl-6">1813</span><span class="hl-1">, </span><span class="hl-6">1883</span><span class="hl-1">]},</span><br/><span class="hl-1">    {</span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&quot;Claude Debussy&quot;</span><span class="hl-1">, </span><span class="hl-5">period:</span><span class="hl-1"> [</span><span class="hl-6">1862</span><span class="hl-1">, </span><span class="hl-6">1918</span><span class="hl-1">]},</span><br/><span class="hl-1">    {</span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&quot;Pyotr Ilyich Tchaikovsky&quot;</span><span class="hl-1">, </span><span class="hl-5">period:</span><span class="hl-1"> [</span><span class="hl-6">1840</span><span class="hl-1">, </span><span class="hl-6">1893</span><span class="hl-1">]},</span><br/><span class="hl-1">    {</span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&quot;Frédéric Chopin&quot;</span><span class="hl-1">, </span><span class="hl-5">period:</span><span class="hl-1"> [</span><span class="hl-6">1810</span><span class="hl-1">, </span><span class="hl-6">1849</span><span class="hl-1">]},</span><br/><span class="hl-1">    {</span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&quot;Joseph Haydn&quot;</span><span class="hl-1">, </span><span class="hl-5">period:</span><span class="hl-1"> [</span><span class="hl-6">1732</span><span class="hl-1">, </span><span class="hl-6">1809</span><span class="hl-1">]},</span><br/><span class="hl-1">    {</span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&quot;Antonio Vivaldi&quot;</span><span class="hl-1">, </span><span class="hl-5">period:</span><span class="hl-1"> [</span><span class="hl-6">1678</span><span class="hl-1">, </span><span class="hl-6">1741</span><span class="hl-1">]}</span><br/><span class="hl-1">];</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">tree</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">IntervalTree</span><span class="hl-1">();</span><br/><span class="hl-4">for</span><span class="hl-1"> (</span><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-5">composer</span><span class="hl-1"> </span><span class="hl-3">of</span><span class="hl-1"> </span><span class="hl-5">composers</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-5">tree</span><span class="hl-1">.</span><span class="hl-0">insert</span><span class="hl-1">(</span><span class="hl-5">composer</span><span class="hl-1">.</span><span class="hl-5">period</span><span class="hl-1">, </span><span class="hl-5">composer</span><span class="hl-1">.</span><span class="hl-5">name</span><span class="hl-1">);</span><br/><br/><span class="hl-7">// Great composers who lived in 17th century</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">searchRes</span><span class="hl-1"> = </span><span class="hl-5">tree</span><span class="hl-1">.</span><span class="hl-0">search</span><span class="hl-1">( [</span><span class="hl-6">1600</span><span class="hl-1">,</span><span class="hl-6">1700</span><span class="hl-1">],</span><br/><span class="hl-1">    (</span><span class="hl-5">name</span><span class="hl-1">, </span><span class="hl-5">period</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-2">`</span><span class="hl-3">${</span><span class="hl-5">name</span><span class="hl-3">}</span><span class="hl-2"> (</span><span class="hl-3">${</span><span class="hl-5">period</span><span class="hl-9">.</span><span class="hl-5">low</span><span class="hl-3">}</span><span class="hl-2">-</span><span class="hl-3">${</span><span class="hl-5">period</span><span class="hl-9">.</span><span class="hl-5">high</span><span class="hl-3">}</span><span class="hl-2">)`</span><span class="hl-1">});</span><br/><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">searchRes</span><span class="hl-1">)</span><br/><br/><span class="hl-7">// expected to be </span><br/><span class="hl-7">// [ &#39;Antonio Vivaldi (1678-1741)&#39;, &#39;Johann Sebastian Bach (1685-1750)&#39; ]</span>
</code><button type="button">Copy</button></pre>

<a id="intersect_anyinterval" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Intersect_any(interval)<a href="#intersect_anyinterval" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Returns true if intersection found between given interval and any of intervals stored in the tree</p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-5">found</span><span class="hl-1"> = </span><span class="hl-5">tree</span><span class="hl-1">.</span><span class="hl-0">intersect_any</span><span class="hl-1">(</span><span class="hl-5">interval</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<a id="size" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Size<a href="#size" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Returns number of items stored in the tree (getter)</p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-5">size</span><span class="hl-1"> = </span><span class="hl-5">tree</span><span class="hl-1">.</span><span class="hl-5">size</span>
</code><button type="button">Copy</button></pre>

<a id="keys" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Keys<a href="#keys" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Returns tree keys in ascendant order (getter)</p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-5">keys</span><span class="hl-1"> = </span><span class="hl-5">tree</span><span class="hl-1">.</span><span class="hl-5">keys</span>
</code><button type="button">Copy</button></pre>

<a id="values" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Values<a href="#values" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Returns tree values in ascendant keys order (getter)</p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-5">values</span><span class="hl-1"> = </span><span class="hl-5">tree</span><span class="hl-1">.</span><span class="hl-5">values</span>
</code><button type="button">Copy</button></pre>

<a id="items" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Items<a href="#items" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Returns items in ascendant keys order (getter)</p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-5">items</span><span class="hl-1"> = </span><span class="hl-5">tree</span><span class="hl-1">.</span><span class="hl-5">items</span>
</code><button type="button">Copy</button></pre>

<a id="foreachvisitor" class="tsd-anchor"></a><h3 class="tsd-anchor-link">ForEach(visitor)<a href="#foreachvisitor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Enables to traverse the whole tree and perform operation for each item</p>
<pre><code class="javascript"><span class="hl-5">tree</span><span class="hl-1">.</span><span class="hl-0">forEach</span><span class="hl-1">( (</span><span class="hl-5">key</span><span class="hl-1">, </span><span class="hl-5">value</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">value</span><span class="hl-1">) )</span>
</code><button type="button">Copy</button></pre>

<a id="mapcallback" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Map(callback)<a href="#mapcallback" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Creates new tree with same keys using callback to transform (key,value) to a new value</p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-5">tree1</span><span class="hl-1"> = </span><span class="hl-5">tree</span><span class="hl-1">.</span><span class="hl-0">map</span><span class="hl-1">((</span><span class="hl-5">value</span><span class="hl-1">, </span><span class="hl-5">key</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> (</span><span class="hl-5">key</span><span class="hl-1">.</span><span class="hl-5">high</span><span class="hl-1">-</span><span class="hl-5">key</span><span class="hl-1">.</span><span class="hl-5">low</span><span class="hl-1">))</span>
</code><button type="button">Copy</button></pre>

<a id="clear" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Clear()<a href="#clear" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Clear tree</p>
<pre><code class="javascript"><span class="hl-5">tree</span><span class="hl-1">.</span><span class="hl-0">clear</span><span class="hl-1">()</span>
</code><button type="button">Copy</button></pre>

<a id="iterateinterval-outputmapperfn" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Iterate([interval, outputMapperFn])<a href="#iterateinterval-outputmapperfn" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Returns an iterator (and iterable). <br/>
Call <code>next</code> on the iterator to navigate to successor tree nodes and return the corresponding values. <br/>
In the absence of a starting interval, the iterator will start with the lowest interval. <br/></p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-5">iterator</span><span class="hl-1"> = </span><span class="hl-5">tree</span><span class="hl-1">.</span><span class="hl-0">iterate</span><span class="hl-1">();</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-5">next</span><span class="hl-1"> = </span><span class="hl-5">iterator</span><span class="hl-1">.</span><span class="hl-0">next</span><span class="hl-1">().</span><span class="hl-5">value</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<p>Optional <em>outputMapperFn(value, key)</em> enables to map search results into custom defined output. <br/>
Example:</p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-5">iterator</span><span class="hl-1"> = </span><span class="hl-5">tree</span><span class="hl-1">.</span><span class="hl-0">iterate</span><span class="hl-1">([</span><span class="hl-6">5</span><span class="hl-1">,</span><span class="hl-6">5</span><span class="hl-1">], (</span><span class="hl-5">value</span><span class="hl-1">, </span><span class="hl-5">key</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-5">key</span><span class="hl-1">);</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-5">next_key</span><span class="hl-1"> = </span><span class="hl-5">iterator</span><span class="hl-1">.</span><span class="hl-0">next</span><span class="hl-1">().</span><span class="hl-5">value</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<p>Supports <code>for .. of</code> syntax. <br/>
Example:</p>
<pre><code class="javascript"><span class="hl-4">for</span><span class="hl-1"> (</span><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-5">key</span><span class="hl-1"> </span><span class="hl-3">of</span><span class="hl-1"> </span><span class="hl-5">tree</span><span class="hl-1">.</span><span class="hl-0">iterate</span><span class="hl-1">([</span><span class="hl-6">5</span><span class="hl-1">,</span><span class="hl-6">5</span><span class="hl-1">], (</span><span class="hl-5">value</span><span class="hl-1">, </span><span class="hl-5">key</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-5">key</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">key</span><span class="hl-1">[</span><span class="hl-6">0</span><span class="hl-1">] &gt; </span><span class="hl-6">8</span><span class="hl-1">) </span><span class="hl-4">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">key</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="documentation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Documentation<a href="#documentation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>API reference is now generated with TypeDoc and published to GitHub Pages.</p>
<ul>
<li>Live examples: <a href="https://alexbol99.github.io/flatten-interval-tree/examples.html">https://alexbol99.github.io/flatten-interval-tree/examples.html</a></li>
<li>API docs: <a href="https://alexbol99.github.io/flatten-interval-tree/">https://alexbol99.github.io/flatten-interval-tree/</a></li>
</ul>
<p>Styling: The docs use TypeDoc’s default theme with a custom stylesheet (typedoc.theme.css) for improved typography, spacing, a branded accent color, and automatic dark mode. The top navigation also links to GitHub and the live examples page.</p>
<p>To build docs locally:</p>
<pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">docs</span>
</code><button type="button">Copy</button></pre>

<p>The output is written into the docs/ folder.</p>
<a id="tests" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Tests<a href="#tests" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">test</span>
</code><button type="button">Copy</button></pre>

<a id="contributors" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Contributors<a href="#contributors" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>In lieu of a formal style guide, take care to maintain the existing coding style. Add unit tests for any new or changed functionality. Lint and test your code.</p>
<a id="license" class="tsd-anchor"></a><h2 class="tsd-anchor-link">License<a href="#license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>MIT</p>
<a id="support" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Support<a href="#support" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p><a href="https://www.buymeacoffee.com/alexbol99" target="_blank"><img src="https://cdn.buymeacoffee.com/buttons/default-orange.png" alt="Buy Me A Coffee" height="41" width="174"></a></p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#interval-tree"><span>Interval <wbr/>Tree</span></a><ul><li><a href="#contacts"><span>Contacts</span></a></li><li><a href="#installation"><span>Installation</span></a></li><li><a href="#usage"><span>Usage</span></a></li><li><ul><li><a href="#notes"><span>Notes</span></a></li><li><a href="#example"><span>Example</span></a></li></ul></li><li><a href="#interval-types"><span>Interval types</span></a></li><li><ul><li><a href="#constructor"><span>Constructor</span></a></li><li><a href="#insertkey-value"><span>Insert(key[, value])</span></a></li><li><a href="#existkey-value"><span>Exist(key[, value])</span></a></li><li><a href="#removekey-value"><span>Remove(key[, value])</span></a></li><li><a href="#searchinterval-outputmapperfn"><span>Search(interval[, output<wbr/>Mapper<wbr/>Fn])</span></a></li><li><a href="#intersect_anyinterval"><span>Intersect_<wbr/>any(interval)</span></a></li><li><a href="#size"><span>Size</span></a></li><li><a href="#keys"><span>Keys</span></a></li><li><a href="#values"><span>Values</span></a></li><li><a href="#items"><span>Items</span></a></li><li><a href="#foreachvisitor"><span>For<wbr/>Each(visitor)</span></a></li><li><a href="#mapcallback"><span>Map(callback)</span></a></li><li><a href="#clear"><span>Clear()</span></a></li><li><a href="#iterateinterval-outputmapperfn"><span>Iterate([interval, output<wbr/>Mapper<wbr/>Fn])</span></a></li></ul></li><li><a href="#documentation"><span>Documentation</span></a></li><li><a href="#tests"><span>Tests</span></a></li><li><a href="#contributors"><span>Contributors</span></a></li><li><a href="#license"><span>License</span></a></li><li><a href="#support"><span>Support</span></a></li></ul></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://github.com/alexbol99/flatten-interval-tree" class="tsd-nav-link">GitHub</a><a href="https://alexbol99.github.io/flatten-interval-tree/examples.html" class="tsd-nav-link">Live examples</a></nav><nav class="tsd-navigation"><a href="modules.html">@flatten-js/interval-tree - v2.0.0-alpha.1</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
